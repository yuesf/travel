import{h as W,j as S,u as h,k as L,l as N,m as $,n as H,o as T,E as M,p as R,q as V,r as F,s as j,t as q,v as z,w as C,x as G,y as K,A as Q,B as Y,C as Z,D as J,F as O,G as P,H as U,I as X}from"./element-plus-BQiw23q9.js";import{aY as k,c as x,A as E,o as m,D as d,B as e,C as s,u,R as D,Q as o,aZ as A,r as tt,m as y,K as et,ac as st,am as at}from"./vue-vendor-Cs8obalv.js";import{u as nt}from"./index-DBeEaY1O.js";import{_ as g}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./vendor-x5eiJF7K.js";const ot={class:"header-container"},lt={class:"header-right"},rt={class:"user-info"},ut={class:"username"},dt={__name:"Header",setup(v){const i=k(),p=nt(),c=x(()=>p.userInfo),f=x(()=>{var a;return((a=c.value)==null?void 0:a.avatar)||""}),r=async a=>{if(a==="logout")try{await T.confirm("确定要退出登录吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}),await p.userLogout(),M.success("退出成功"),i.push("/login")}catch{}else a==="profile"&&M.info("个人信息功能待实现")};return(a,t)=>{const l=S,n=W,_=$,b=N,w=H;return m(),E("div",ot,[t[2]||(t[2]=d("div",{class:"header-left"},[d("div",{class:"logo"},[d("span",{class:"logo-text"},"旅游平台")])],-1)),d("div",lt,[e(w,{onCommand:r,class:"user-dropdown"},{dropdown:s(()=>[e(b,null,{default:s(()=>[e(_,{command:"profile"},{default:s(()=>[...t[0]||(t[0]=[o("个人信息",-1)])]),_:1}),e(_,{command:"logout",divided:""},{default:s(()=>[...t[1]||(t[1]=[o("退出登录",-1)])]),_:1})]),_:1})]),default:s(()=>{var B,I;return[d("span",rt,[e(n,{size:32,src:f.value,class:"avatar"},{default:s(()=>[e(l,null,{default:s(()=>[e(u(h))]),_:1})]),_:1},8,["src"]),d("span",ut,D(((B=c.value)==null?void 0:B.realName)||((I=c.value)==null?void 0:I.username)||"管理员"),1),e(l,{class:"el-icon--right"},{default:s(()=>[e(u(L))]),_:1})])]}),_:1})])])}}},it=g(dt,[["__scopeId","data-v-1351a14a"]]),ct={__name:"Sidebar",setup(v){const i=A(),p=k(),c=tt(!1),f=a=>{i.path!==a&&p.push(a).catch(t=>{t.name!=="NavigationDuplicated"&&console.error("路由导航错误:",t)})},r=x(()=>{const{path:a}=i;return a.startsWith("/attractions")?a==="/attractions"||a==="/attractions/create"||a.includes("/attractions/edit")?a:"/attractions":a.startsWith("/hotels")?a==="/hotels"||a==="/hotels/create"||a.includes("/hotels/edit")?a:"/hotels":a.startsWith("/products")?a==="/products"||a==="/products/create"||a.includes("/products/edit")?a:"/products":a.startsWith("/categories")?"/categories":a.startsWith("/articles")?(a==="/articles"||a==="/articles/create"||a.includes("/articles/edit")||a.includes("/articles/")||a==="/articles/categories"||a==="/articles/tags")&&(a.includes("/articles/edit")||a==="/articles/create")?a:"/articles":(a.startsWith("/system"),a)});return(a,t)=>{const l=S,n=V,_=q,b=R,w=Z;return m(),y(w,{width:c.value?"64px":"240px",class:"sidebar-container"},{default:s(()=>[e(b,{"default-active":r.value,collapse:c.value,"collapse-transition":!1,"background-color":"#304156","text-color":"#bfcbd9","active-text-color":"#409eff",class:"sidebar-menu",onSelect:f},{default:s(()=>[e(n,{index:"/dashboard"},{title:s(()=>[...t[0]||(t[0]=[o("首页",-1)])]),default:s(()=>[e(l,null,{default:s(()=>[e(u(F))]),_:1})]),_:1}),e(n,{index:"/miniprogram"},{title:s(()=>[...t[1]||(t[1]=[o("小程序管理",-1)])]),default:s(()=>[e(l,null,{default:s(()=>[e(u(j))]),_:1})]),_:1}),e(_,{index:"products"},{title:s(()=>[e(l,null,{default:s(()=>[e(u(z))]),_:1}),t[2]||(t[2]=d("span",null,"商品管理",-1))]),default:s(()=>[e(n,{index:"/products"},{default:s(()=>[...t[3]||(t[3]=[o("商品列表",-1)])]),_:1}),e(n,{index:"/categories"},{default:s(()=>[...t[4]||(t[4]=[o("分类管理",-1)])]),_:1}),e(n,{index:"/products/create"},{default:s(()=>[...t[5]||(t[5]=[o("创建商品",-1)])]),_:1})]),_:1}),e(_,{index:"articles"},{title:s(()=>[e(l,null,{default:s(()=>[e(u(C))]),_:1}),t[6]||(t[6]=d("span",null,"文章管理",-1))]),default:s(()=>[e(n,{index:"/articles"},{default:s(()=>[...t[7]||(t[7]=[o("文章列表",-1)])]),_:1}),e(n,{index:"/articles/create"},{default:s(()=>[...t[8]||(t[8]=[o("创建文章",-1)])]),_:1}),e(n,{index:"/articles/categories"},{default:s(()=>[...t[9]||(t[9]=[o("文章分类",-1)])]),_:1}),e(n,{index:"/articles/tags"},{default:s(()=>[...t[10]||(t[10]=[o("文章标签",-1)])]),_:1})]),_:1}),e(_,{index:"attractions"},{title:s(()=>[e(l,null,{default:s(()=>[e(u(G))]),_:1}),t[11]||(t[11]=d("span",null,"景点管理",-1))]),default:s(()=>[e(n,{index:"/attractions"},{default:s(()=>[...t[12]||(t[12]=[o("景点列表",-1)])]),_:1}),e(n,{index:"/attractions/create"},{default:s(()=>[...t[13]||(t[13]=[o("创建景点",-1)])]),_:1})]),_:1}),e(_,{index:"hotels"},{title:s(()=>[e(l,null,{default:s(()=>[e(u(K))]),_:1}),t[14]||(t[14]=d("span",null,"酒店管理",-1))]),default:s(()=>[e(n,{index:"/hotels"},{default:s(()=>[...t[15]||(t[15]=[o("酒店列表",-1)])]),_:1}),e(n,{index:"/hotels/create"},{default:s(()=>[...t[16]||(t[16]=[o("创建酒店",-1)])]),_:1})]),_:1}),e(n,{index:"/coupons"},{title:s(()=>[...t[17]||(t[17]=[o("优惠券管理",-1)])]),default:s(()=>[e(l,null,{default:s(()=>[e(u(Q))]),_:1})]),_:1}),e(n,{index:"/orders"},{title:s(()=>[...t[18]||(t[18]=[o("订单管理",-1)])]),default:s(()=>[e(l,null,{default:s(()=>[e(u(C))]),_:1})]),_:1}),e(n,{index:"/users"},{title:s(()=>[...t[19]||(t[19]=[o("用户管理",-1)])]),default:s(()=>[e(l,null,{default:s(()=>[e(u(h))]),_:1})]),_:1}),e(_,{index:"system"},{title:s(()=>[e(l,null,{default:s(()=>[e(u(Y))]),_:1}),t[20]||(t[20]=d("span",null,"系统管理",-1))]),default:s(()=>[e(n,{index:"/system/payment-config"},{default:s(()=>[...t[21]||(t[21]=[o("支付配置",-1)])]),_:1}),e(n,{index:"/system/merchant-config"},{default:s(()=>[...t[22]||(t[22]=[o("商家配置",-1)])]),_:1}),e(n,{index:"/system/admins"},{default:s(()=>[...t[23]||(t[23]=[o("管理员管理",-1)])]),_:1}),e(n,{index:"/system/roles"},{default:s(()=>[...t[24]||(t[24]=[o("角色权限",-1)])]),_:1}),e(n,{index:"/system/logs"},{default:s(()=>[...t[25]||(t[25]=[o("操作日志",-1)])]),_:1})]),_:1})]),_:1},8,["default-active","collapse"])]),_:1},8,["width"])}}},ft=g(ct,[["__scopeId","data-v-d9396ac0"]]),_t={__name:"Breadcrumb",setup(v){const i=A(),p={"/dashboard":"首页","/attractions":"景点列表","/attractions/create":"创建景点","/attractions/edit":"编辑景点","/hotels":"酒店列表","/hotels/create":"创建酒店","/hotels/edit":"编辑酒店","/products":"商品列表","/products/create":"创建商品","/products/edit":"编辑商品","/categories":"分类管理","/coupons":"优惠券管理","/coupons/create":"创建优惠券","/coupons/edit":"编辑优惠券","/orders":"订单管理","/users":"用户管理","/miniprogram":"小程序管理","/system/admins":"管理员管理","/system/roles":"角色权限","/system/logs":"操作日志"},c=x(()=>{const f=i.matched.filter(a=>a.meta&&a.meta.title),r=[];if(f.forEach((a,t)=>{const l=a.path,n=a.meta.title||p[l]||"未知";t===f.length-1?r.push({title:n,path:null}):r.push({title:n,path:l})}),i.params.id&&i.meta.title){const a=r[r.length-1];a&&(a.title=i.meta.title)}return r});return(f,r)=>{const a=J,t=O;return m(),y(t,{separator:"/",class:"breadcrumb-container"},{default:s(()=>[e(a,{to:{path:"/dashboard"}},{default:s(()=>[...r[0]||(r[0]=[o("首页",-1)])]),_:1}),(m(!0),E(et,null,st(c.value,l=>(m(),y(a,{key:l.path,to:l.path?{path:l.path}:void 0},{default:s(()=>[o(D(l.title),1)]),_:2},1032,["to"]))),128))]),_:1})}}},pt=g(_t,[["__scopeId","data-v-e5ac7ae9"]]),mt={class:"main-layout"},xt={class:"content-wrapper"},gt={__name:"MainLayout",setup(v){return(i,p)=>{const c=U,f=at("router-view"),r=X,a=P;return m(),E("div",mt,[e(a,null,{default:s(()=>[e(c,{class:"header-wrapper"},{default:s(()=>[e(it)]),_:1}),e(a,null,{default:s(()=>[e(ft),e(r,{class:"main-content"},{default:s(()=>[e(pt),d("div",xt,[e(f)])]),_:1})]),_:1})]),_:1})])}}},Bt=g(gt,[["__scopeId","data-v-8fef1427"]]);export{Bt as default};
