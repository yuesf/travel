<!--商品详情页（纯展示模式）-->
<view class="page-container">
  <view wx:if="{{product}}" class="product-detail">
    <!-- 商品图片轮播 -->
    <swiper
      wx:if="{{product.images && product.images.length > 0}}"
      class="product-swiper"
      indicator-dots="{{true}}"
      indicator-color="rgba(255, 255, 255, 0.5)"
      indicator-active-color="#409EFF"
      autoplay="{{false}}"
      circular="{{true}}"
    >
      <swiper-item wx:for="{{product.images}}" wx:key="index">
        <image
          class="product-image"
          src="{{item}}"
          mode="aspectFill"
          lazy-load="{{true}}"
        />
      </swiper-item>
    </swiper>
    
    <!-- 单张图片 -->
    <image
      wx:else
      class="product-image-single"
      src="{{product.image || product.coverImage || '/static/images/default-product.png'}}"
      mode="aspectFill"
      lazy-load="{{true}}"
    />

    <!-- 商品信息 -->
    <view class="product-info">
      <!-- 商品名称 -->
      <view class="product-name">{{product.name}}</view>
      
      <!-- 商品简介 -->
      <view wx:if="{{product.description}}" class="product-description">
        <!-- H5类型：使用rich-text展示富文本 -->
        <rich-text wx:if="{{isH5Type}}" nodes="{{product.description}}" type="html" class="description-content-rich"></rich-text>
        <!-- 非H5类型：使用普通文本 -->
        <view wx:else class="description-content">{{product.description}}</view>
      </view>
      
      <!-- 预约按钮（H5类型时显示） -->
      <view wx:if="{{isH5Type && product.h5Link}}" class="product-reserve-section">
        <button 
          class="reserve-button" 
          type="primary"
          bindtap="onReserveTap"
        >
          预约
        </button>
      </view>
    </view>
  </view>

  <!-- 加载状态 -->
  <view wx:if="{{loading}}" class="loading-container">
    <text>加载中...</text>
  </view>
</view>
