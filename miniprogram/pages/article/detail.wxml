<!--文章详情页-->
<view class="page-container">
  <!-- 加载状态 -->
  <view wx:if="{{loading}}" class="loading-container">
    <text>加载中...</text>
  </view>

  <!-- 文章内容 -->
  <view wx:elif="{{article}}" class="detail-content">
    <!-- 文章图片轮播 -->
    <view wx:if="{{article.images && article.images.length > 0}}" class="article-images-container">
      <swiper
        class="article-images-swiper"
        indicator-dots="{{article.images.length > 1}}"
        indicator-color="rgba(255, 255, 255, 0.5)"
        indicator-active-color="#ffffff"
        autoplay="{{false}}"
        circular="{{article.images.length > 1}}"
        bindchange="onSwiperChange"
      >
        <swiper-item wx:for="{{article.images}}" wx:key="index" class="article-image-item">
          <image
            class="article-image"
            src="{{item}}"
            mode="aspectFill"
            data-index="{{index}}"
            data-urls="{{article.images}}"
            bindtap="onImageTap"
            binderror="onImageError"
            lazy-load="{{true}}"
          />
        </swiper-item>
      </swiper>
      <!-- 轮播指示器（数字） -->
      <view wx:if="{{article.images.length > 1}}" class="swiper-indicator">
        <text class="swiper-indicator-text">{{currentImageIndex + 1}}/{{article.images.length}}</text>
      </view>
    </view>

    <!-- 文章名称 -->
    <view class="article-title-container">
      <text class="article-title">{{article.title || '暂无标题'}}</text>
    </view>

    <!-- 文章内容 -->
    <view class="article-content-container">
      <rich-text wx:if="{{article.content}}" nodes="{{article.content}}" type="html" class="article-content"></rich-text>
      <text wx:else class="article-content-empty">暂无内容</text>
    </view>
  </view>

  <!-- 空状态 -->
  <view wx:else class="empty-container">
    <text class="empty-text">文章不存在或已删除</text>
  </view>
</view>
